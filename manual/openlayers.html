<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
    <title>Wax Manual - OpenLayers</title>
    <script src='ender.js' type='text/javascript'></script>
    <script src='../ext/OpenLayers.js' type='text/javascript'></script>
    <script src='../build/wax.ol.js' type='text/javascript'></script>
    <script src='lib/showdown.js' type='text/javascript'></script>
    <script src='lib/shjs.js' type='text/javascript'></script>
    <script src='lib/sh_javascript.min.js' type='text/javascript'></script>
    <script src='site.js' type='text/javascript'></script>
    <link href='lib/shjs.css' rel='stylesheet' type='text/css' />
    <link href='../theme/controls.css' rel='stylesheet' type='text/css' />
    <link href='site.css' rel='stylesheet' type='text/css' />
  </head>
  <body>
  <div class='header'>
    Wax Documentation:
    <a href='index.html'>Modest Maps</a> |
    <a href='openlayers.html'>OpenLayers</a> |
    <a href='google.html'>Google Maps</a>
  </div>
    <div class='page'>

<div class='navigation'>
<ul></ul>
</div>

<div class='section'>
<pre class='md'>
## OpenLayers

The Wax toolkit also supports [OpenLayers](http://openlayers.org), though it is
**not recommended for new projects**, because it has become extremely bulky and difficult
to use correctly.

### Including the Code

- `wax/ext/OpenLayers.js` contains the core OpenLayers library. **Do not use
  the hosted version** unless absolutely necessary - the openlayers.org server
  is not very fast or reliable, and the version that's hosted includes all
  dependencies, making it extremely large.
- `wax/build/wax.ol.js` contains the Wax controls and integration code for
  OpenLayers.
- `wax/theme/controls.css` contains default styles for controls. You can always
  swap in your own later on.

<pre>
&lt;html&gt;
&lt;head&gt;
  &lt;script src='wax/ext/OpenLayers.js' type='text/javascript'&gt;&lt;/script&gt;
  &lt;script src='wax/build/wax.ol.js' type='text/javascript'&gt;&lt;/script&gt;
  &lt;link href='wax/theme/controls.css' rel='stylesheet' type='text/css' /&gt;
  ...
</pre>
</pre>
</div>


<pre class='md'>
### MBTiles layers in OpenLayers

The tilesets that TileStream serves and TileMill creates are valid in the
[TMS specification](http://wiki.osgeo.org/wiki/Tile_Map_Service_Specification),
for which OpenLayers has a layer type.

</pre>
<div class='section'>
<div id='openlayers-simple' class='map dark'>
</div>
<pre class='sh_javascript run'>
// Use the mapbox openlayers zoom/pan control images.
OpenLayers.ImgPath = 'http://js.mapbox.com/theme/dark/';
// Set up a map in a div with the id 'openlayers-simple'
var map = new OpenLayers.Map('openlayers-simple', {
  units: 'm',
  projection: new OpenLayers.Projection('EPSG:900913'),
  maxExtent: new OpenLayers.Bounds(-20037508.34,
    -20037508.34,
    20037508.34,
    20037508.34),
});

map.addLayer(new OpenLayers.Layer.TMS('world-glass',
  'http://a.tiles.mapbox.com/devseed/', {
  maxResolution: 156543.0339,
  type: 'png',
  layername: 'excess-properties'
}));

map.addControl(new wax.ol.Interaction());
map.zoomTo(1);
</pre>
</div>
    </div>
  </body>
</html>
