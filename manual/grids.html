<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8"/>
  <title>Wax Manual</title>
  <script src='ender.js' type='text/javascript'></script>
  <script src='../ext/modestmaps.min.js' type='text/javascript'></script>
  <script src='../dist/wax.mm.js' type='text/javascript'></script>
  <script src='lib/showdown.js' type='text/javascript'></script>
  <script src='lib/shjs.js' type='text/javascript'></script>
  <script src='lib/sh_javascript.min.js' type='text/javascript'></script>
  <script src='site.js' type='text/javascript'></script>
  <link href='lib/shjs.css' rel='stylesheet' type='text/css' />
  <link href='../ext/leaflet.css' rel='stylesheet' type='text/css' />
  <!--[if lte IE 8]><link rel="stylesheet" href="../ext/leaflet.ie.css" /><![endif]-->
  <link href='../theme/controls.css' rel='stylesheet' type='text/css' />
  <link href='site.css' rel='stylesheet' type='text/css' />
</head>
<body>
<div class='page'>
<div class='navigation'><ul></ul></div>

<pre class='md'>
# Understanding Grids

Grids look cool because the lowest point that the represent, `0`, is
represented by ` `, a space. Enter characters like `$` and `a` to see
how single characters are translated to indexes by the Wax UTFGrid system.

<div class='section'>
<style type='text/css'>
.ui-1 {
  padding:50px;
  font-size:40px;
}
.ui-1 input {
  font-size:40px;
}
</style>
<div id='decoding-grids' class='map'>
  <div class='ui-1'>
    <input type='text' maxlength='1' size='1' id='char' /> = 
    <span id='result'></span>
  </div>
</div>
<pre class='sh_javascript run'>
var gi = new wax.GridInstance();

$('#char').keyup(function() {
  $('#result').text(
    gi.resolveCode(
      $(this).val().charCodeAt(0)
    ) || 0
  );
});
</pre>

# Grid Viewer

<div id='decoding-grids' class='full'>
  <div class='ui-2'>
    <input type='text' id='url' />
    <button id='url-set'>set</button>
    <table id='grids-display'></table>
    <ol id='keys-display'></ol>
    <ol id='data-display'></ol>
  </div>
</div>
<pre class='sh_javascript run hide'>
$('#url-set').click(function() {

  function kHighlight(char) {
    var code = char.charCodeAt(0)
  }

  $.ajax({
      url: $('#url').val() +  '?callback=grid',
      type: 'jsonp',
      jsonpCallback: 'callback',
      success: function(data) {
        for (var y = 0; y < data.grid.length; y++) {
          var row = document.createElement('tr');
          $('#grids-display')
            .append(row);
          for (var x = 0; x < data.grid[y].length; x++) {
            var column = document.createElement('td');
            var char = document.createElement('pre');
            char.innerHTML = data.grid[y][x];
            $(char).click(function() {
              kHighlight($(this).text());
            });
            column.appendChild(char);
            $(row).append(column);
          }
        }
        for (var l = 0; l < data.keys.length; l++) {
          var li = document.createElement('li');
          for (var i = 0; i < data.keys[l].length; i++) {
            var item = document.createElement('span');
            var space = document.createTextNode(' ');
            item.innerHTML = data.keys[l][i];
            li.appendChild(item);
            li.appendChild(space);
          }
          $('#keys-display').append(li);
        }
        for (var d = 0; d < data.data.length; d++) {
          var ul = document.createElement('ul');
          for (var k in data.data[d]) {
            var li = document.createElement('li');
            li.innerHTML = k + ': ' + JSON.stringify(data.data[d][k]);
            ul.appendChild(li);
          }
          $('#data-display').append(ul);
        }
      },
      error: function(err) { alert(err); }
  });

});
</pre>




</div>
</div>
</body>
</html>
